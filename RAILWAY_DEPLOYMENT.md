# Railway Deployment Guide - Alternative to Vercel

## ðŸš€ **Why Railway?**

Railway is easier than Vercel for Node.js + PostgreSQL applications:
- âœ… **No complex configuration** needed
- âœ… **Built-in PostgreSQL** database
- âœ… **Automatic HTTPS** domains
- âœ… **Simple environment variables**
- âœ… **Free tier** available

## ðŸ“‹ **Quick Deployment Steps**

### **1. Prepare Backend for Railway**

Create `railway.json` (optional but recommended):
```json
{
  "build": {
    "builder": "NIXPACKS"
  },
  "deploy": {
    "startCommand": "npm start",
    "healthcheckPath": "/health"
  }
}
```

### **2. Deploy to Railway**

#### **Option A: Using Railway CLI**
```bash
# Install Railway CLI
npm install -g @railway/cli

# Login to Railway
railway login

# Initialize project
cd PulihHati-Backend
railway init

# Deploy
railway up
```

#### **Option B: Using GitHub Integration**
1. Go to [railway.app](https://railway.app)
2. Sign up/Login with GitHub
3. Click "New Project"
4. Select "Deploy from GitHub repo"
5. Choose your backend repository
6. Railway will auto-deploy

### **3. Add PostgreSQL Database**

1. In Railway dashboard:
   - Click "New" â†’ "Database" â†’ "PostgreSQL"
   - Railway will create database automatically

2. Get database credentials:
   - Click on PostgreSQL service
   - Go to "Variables" tab
   - Copy connection details

### **4. Configure Environment Variables**

In Railway dashboard â†’ Your service â†’ Variables:

```bash
# Database (auto-generated by Railway PostgreSQL)
DATABASE_URL=postgresql://user:pass@host:port/db

# Or individual variables:
PG_HOST=your-railway-db-host
PG_PORT=5432
PG_DATABASE=railway
PG_USER=postgres
PG_PASSWORD=your-generated-password

# JWT Configuration
JWT_SECRET=your-jwt-secret-key
JWT_EXPIRE=30d

# Node Environment
NODE_ENV=production
PORT=3000
```

### **5. Update Frontend Configuration**

After deployment, Railway will give you a URL like:
`https://your-app-name.up.railway.app`

Update frontend `.env`:
```bash
# Use Railway backend
VITE_API_BASE_URL=https://your-app-name.up.railway.app/api
```

## ðŸ”§ **Backend Code Modifications for Railway**

### **Update package.json**
```json
{
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js"
  },
  "engines": {
    "node": ">=18.0.0"
  }
}
```

### **Update server.js** (if needed)
```javascript
// Use PORT from environment (Railway sets this automatically)
const PORT = process.env.PORT || 5000;
```

## ðŸ§ª **Testing Railway Deployment**

After deployment:

```bash
# Test health endpoint
curl https://your-app-name.up.railway.app/health

# Test API
curl https://your-app-name.up.railway.app/api/auth
```

## ðŸ’° **Railway Pricing**

- **Free Tier**: $5 credit per month
- **Pro Plan**: $20/month for unlimited usage
- **Perfect for development** and small applications

## ðŸ”„ **Migration from Vercel to Railway**

1. **Keep Vercel** as backup
2. **Deploy to Railway** as primary
3. **Update frontend** to use Railway URL
4. **Test all functionality**
5. **Monitor performance**

## ðŸŽ¯ **Expected Results**

After Railway deployment:
- âœ… **Working HTTPS URL**: `https://your-app.up.railway.app`
- âœ… **Database included**: PostgreSQL ready to use
- âœ… **Environment variables**: Easy to configure
- âœ… **Automatic deployments**: On git push
- âœ… **Logs and monitoring**: Built-in dashboard

## ðŸ“ž **Alternative: Fix Vercel Domain**

If you prefer to stick with Vercel:

1. **Create new Vercel project** with different name:
   ```bash
   vercel --name pulih-hati-api-v2
   ```

2. **Use custom domain** if available

3. **Check Vercel project settings**:
   - Domains configuration
   - Build settings
   - Environment variables

## ðŸš€ **Recommended Action**

**Try Railway first** - it's simpler and more reliable for Node.js + PostgreSQL:

1. **Deploy to Railway** (15 minutes)
2. **Update frontend** with Railway URL
3. **Test all features**
4. **Keep as primary backend**

Railway is specifically designed for full-stack applications and handles the complexity that Vercel struggles with for backend APIs.

## ðŸ”— **Useful Links**

- [Railway Documentation](https://docs.railway.app/)
- [Railway Templates](https://railway.app/templates)
- [Node.js on Railway](https://docs.railway.app/guides/nodejs)
- [PostgreSQL on Railway](https://docs.railway.app/databases/postgresql)
